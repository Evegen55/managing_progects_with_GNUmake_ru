%%--------------------------------------------------------------------
%% Commands
%%--------------------------------------------------------------------
\chapter{Команды}
\label{chap:commands}

Мы уже рассмотрели б\'{о}льшую часть базовых концепций команд
\GNUmake{}, однако давайте всё же проведём их краткий обзор.

Команды являются однострочными сценариями командного интерпретатора.
\GNUmake{} считывает каждую команду и передаёт её в дочерний процесс
командного интерпретатора для выполнения. На самом деле \GNUmake{}
может осуществлять оптимизацию этого (относительно) ресурсоёмкого
fork/exec алгоритма, если это гарантированно не изменит поведения
программы. Для этого каждая команда сканируется на наличие специальных
символов командного интерпретатора, таких как шаблоны или перенаправления
ввода-вывода. Если эти символы не найдены, \GNUmake{} выполняет команду
самостоятельно без порождения дочернего процесса.

В качестве командного интерпретатора по умолчанию используется
\filename{/bin/sh}. За используемый интерпретатор отвечает переменная
\variable{SHELL}, не наследуемая из окружения. При старте \GNUmake{}
импортирует все переменные, кроме \variable{SHELL}, из окружения
пользователя, преобразуя их в переменные \GNUmake{}. Это сделано для
того, чтобы пользовательский выбор интерпретатора не вызвал ошибки
выполнения \Makefile{}'а (возможно, входящего в загруженный из сети
пакет программного обеспечения). Если пользователь действительно хочет
поменять интерпретатор по умолчанию, он должен явно присвоить
переменной \variable{SHELL} нужное значение прямо в \Makefile{}'е. Мы
вернёмся к этой теме в разделе <<\nameref{sec:which_shell_to_use}>> этой
главы.

\input{./part1/commands/parsing_commands.tex}
\input{./part1/commands/which_shell_to_use.tex}
\input{./part1/commands/empty_commands.tex}
\input{./part1/commands/command_environment.tex}
\input{./part1/commands/evaluating_commands.tex}
\input{./part1/commands/command_line_limits.tex}
